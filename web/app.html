<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <style>
        .back {
            background-size: cover !important;
            background-image: url("scores/23-SomebodyElse'sGuy.png");
            min-height: 100vh;
        }
    </style>

    <title>MBuddy</title>
</head>
<body>
<button onclick="onClick()">Send</button>
<div id="score-img" class="back">
</div>

<!--the page needs to be started from a bookmark on the home screen-->
<!--https://developer.apple.com/library/archive/documentation/AppleApplications/Reference/SafariHTMLRef/Articles/MetaTags.html-->


<script>
    var host = "ws://" + window.location.hostname + ":8383/websocket";

    var socket = new WebSocket(host);
    socket.binaryType = "arraybuffer";

    socket.onmessage = function(e) {
        if(e.data instanceof ArrayBuffer) {
            // binary frame
            const bytes = new Uint8Array(e.data);
            console.log(bytes);
        } else {
            // text frame
            console.log(e.data);
        }

    };

    function onClick() {
        socket.send("Hello, world!");
    }
</script>
</body>
</html>